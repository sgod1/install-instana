env:
#
# container images
#
- name: postgres-container-image
  path: .spec.imageName
  values:
    default: strenv(postgres_image)

#
# image pull secret
#
- name: image-pull-secret
  path: .spec.imagePullSecrets[0].name
  values:
    default: instana-registry
 
#
# image pull policy
#
- name: image-pull-policy
  path: .spec.imagePullPolicy
  values:
    default: IfNotPresent

#
# instance count
#
- name: postgres-instance-count
  path: .spec.instances
  values:
    default: 3
    dev: 1
    uat: 3
    prod: 3
    #small:
    #medium:
    #large:

#
# cpu and memory requests and limits
#
- name: postgres-cpu-request
  path: .spec.resources.requests.cpu
  values:
    default: 2
    dev: 2
    uat: 2
    prod: 11
    #small:
    #medium:
    #large:

- name: postgres-cpu-limit
  path: .spec.resources.limits.cpu
  values:
    default: 2
    dev: 2
    uat: 2
    prod: 11
    #small:
    #medium:
    #large:

- name: postgres-memory-request
  path: .spec.resources.requests.memory
  values:
    default: 4Gi
    dev: 4Gi
    uat: 8Gi
    prod: 44Gi
    #small:
    #medium:
    #large:

- name: postgres-memory-limit
  path: .spec.resources.limits.memory
  values:
    default: 4Gi
    dev: 4Gi
    uat: 8Gi
    prod: 44Gi
    #small:
    #medium:
    #large:

#
# storage size
#
- name: postgres-storage-size
  path: .spec.storage.size
  values:
    default: 100Gi
    dev: 100Gi
    uat: 300Gi
    prod: 3934Gi
    #small:
    #medium:
    #large:

#
# storage class
#
- name: postgres-storage-class
  path: .spec.storage.storageClass
  values:
    default: strenv(rwo_storageclass)

#
# tolerations
#
- name: postgres-pod-toleration-key
  path: .spec.affinity.tolerations[0].key
  values:
    default: strenv(postgres_toleration_key)
    #uat: dedicated
    #prod: dedicated

- name: postgres-pod-toleration-value
  path: .spec.affinity.tolerations[0].value
  values:
    default: strenv(postgres_toleration_value)
    #uat: appng
    #prod: appng
